(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const s of c.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function n(o){if(o.ep)return;o.ep=!0;const c=r(o);fetch(o.href,c)}})();/**
 * @license lucide v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O=(e,t,r=[])=>{const n=document.createElementNS("http://www.w3.org/2000/svg",e);return Object.keys(t).forEach(o=>{n.setAttribute(o,String(t[o]))}),r.length&&r.forEach(o=>{const c=O(...o);n.appendChild(c)}),n};var F=([e,t,r])=>O(e,t,r);/**
 * @license lucide v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $=e=>Array.from(e.attributes).reduce((t,r)=>(t[r.name]=r.value,t),{}),P=e=>typeof e=="string"?e:!e||!e.class?"":e.class&&typeof e.class=="string"?e.class.split(" "):e.class&&Array.isArray(e.class)?e.class:"",j=e=>e.flatMap(P).map(r=>r.trim()).filter(Boolean).filter((r,n,o)=>o.indexOf(r)===n).join(" "),R=e=>e.replace(/(\w)(\w*)(_|-|\s*)/g,(t,r,n)=>r.toUpperCase()+n.toLowerCase()),w=(e,{nameAttr:t,icons:r,attrs:n})=>{var y;const o=e.getAttribute(t);if(o==null)return;const c=R(o),s=r[c];if(!s)return console.warn(`${e.outerHTML} icon name was not found in the provided icons object.`);const l=$(e),[i,a,u]=s,d={...a,"data-lucide":o,...n,...l},m=j(["lucide",`lucide-${o}`,l,n]);m&&Object.assign(d,{class:m});const h=F([i,d,u]);return(y=e.parentNode)==null?void 0:y.replaceChild(h,e)};/**
 * @license lucide v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};/**
 * @license lucide v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y=["svg",D,[["path",{d:"M18 6 6 18"}],["path",{d:"m6 6 12 12"}]]];/**
 * @license lucide v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G=({icons:e={},nameAttr:t="data-lucide",attrs:r={}}={})=>{if(!Object.values(e).length)throw new Error(`Please provide an icons object.
If you want to use all the icons you can import it like:
 \`import { createIcons, icons } from 'lucide';
lucide.createIcons({icons});\``);if(typeof document>"u")throw new Error("`createIcons()` only works in a browser environment.");const n=document.querySelectorAll(`[${t}]`);if(Array.from(n).forEach(o=>w(o,{nameAttr:t,icons:e,attrs:r})),t==="data-lucide"){const o=document.querySelectorAll("[icon-name]");o.length>0&&(console.warn("[Lucide] Some icons were found with the now deprecated icon-name attribute. These will still be replaced for backwards compatibility, but will no longer be supported in v1.0 and you should switch to data-lucide"),Array.from(o).forEach(c=>w(c,{nameAttr:"icon-name",icons:e,attrs:r})))}},v=()=>{const e=document.createElement("p");return e.classList="text-muted text-sm",e.textContent="Not found.",e},H=(e,t,r)=>{const n=document.createElement("iframe");return n.src=e,n.title=t,n.allowFullscreen=!0,n.classList=r,n},U=()=>{var e=document.querySelectorAll("iframe");Array.prototype.forEach.call(e,t=>{t.contentWindow.postMessage(JSON.stringify({event:"command",func:"stopVideo"}),"*")})},V=document.getElementById("movie-list"),E=document.createDocumentFragment(),b=document.createDocumentFragment(),S=document.createDocumentFragment(),C=document.createDocumentFragment(),X=document.getElementById("movie-template"),J=document.getElementById("movie-review-template"),K=document.getElementById("movie-similar-template"),W=document.getElementById("movie-genre-template");async function p(e,t){try{const r=new URLSearchParams({api_key:"bc50218d91157b1ba4f142ef7baaa6a0",...t}),n=`https://api.themoviedb.org/3${e}?${r}`,o=await fetch(n);if(!o.ok)throw new Error(`HTTP error! status: ${o.status}`);return await o.json()}catch(r){throw console.error("Error querrying movie API at "+e+": "+r),r}}async function _(e){try{return await p("/movie/now_playing",{page:e})}catch(t){return console.error("Error fetching now playing movies:",t),null}}async function z(e){try{return await p(`/movie/${e}/videos`)}catch(t){return console.error("Error fetching movie videos:",t),null}}async function Q(e){try{return await p(`/movie/${e}/reviews`)}catch(t){return console.error("Error fetching movie reviews:",t),null}}async function Z(e){try{return await p(`/movie/${e}/similar`)}catch(t){return console.error("Error fetching similar movies:",t),null}}async function ee(){try{const e=await p("/genre/movie/list");return e==null?void 0:e.genres}catch(e){return console.error("Error fetching genres:",e),null}}async function te(e,t){try{return await p("/search/movie",{query:encodeURIComponent(e),page:t})}catch(r){return console.error("Error searching movies:",r),null}}async function re(e){var t,r,n;try{const o=(t=document.getElementById(e))==null?void 0:t.querySelector(".movie-trailer-section"),c=(r=document.getElementById(e))==null?void 0:r.querySelectorAll(".movie-trailer-section .skeleton");if(!(c!=null&&c.length))return;const s=(n=await z(e))==null?void 0:n.results,l=s==null?void 0:s.find(i=>i.site=="YouTube"&&i.type=="Trailer");c.forEach(i=>{i.remove()}),l?o==null||o.appendChild(H(`https://www.youtube.com/embed/${l.key}?enablejsapi=1`,l.name,"movie-trailer")):o==null||o.appendChild(v())}catch(o){console.error("Error loading movie trailer:",o)}}async function oe(e){var t,r,n,o;try{const c=(t=document.getElementById(e))==null?void 0:t.querySelector(".movie-reviews-section"),s=(r=document.getElementById(e))==null?void 0:r.querySelectorAll(".movie-reviews-section .skeleton");if(!(s!=null&&s.length))return;const l=(o=(n=await Q(e))==null?void 0:n.results)==null?void 0:o.slice(0,3);if(s.forEach(i=>{i.remove()}),!(l!=null&&l.length))c==null||c.appendChild(v());else{l.forEach(a=>{var d,m;const u=J.content.cloneNode(!0);u.querySelector(".review-quote").innerHTML=a==null?void 0:a.content,u.querySelector(".review-rating-score").textContent=(d=a==null?void 0:a.author_details)==null?void 0:d.rating,u.querySelector(".review-author").textContent=(m=a==null?void 0:a.author_details)==null?void 0:m.name,b.appendChild(u)}),c==null||c.appendChild(b);const i=c.querySelectorAll(".review-quote");i==null||i.forEach(a=>{a.addEventListener("click",u=>{u.stopPropagation(),a.classList.toggle("active")})})}}catch(c){console.error("Error loading movie reviews:",c)}}async function ne(e){var t,r,n,o;try{const c=(t=document.getElementById(e))==null?void 0:t.querySelector(".movie-similar-section .similar-movies"),s=(r=document.getElementById(e))==null?void 0:r.querySelectorAll(".movie-similar-section .skeleton");if(!(s!=null&&s.length))return;const l=(o=(n=await Z(e))==null?void 0:n.results)==null?void 0:o.slice(0,3);s.forEach(i=>{i.remove()}),l!=null&&l.length?(l.forEach(i=>{const a=K.content.cloneNode(!0);a.querySelector("img").src=`https://media.themoviedb.org/t/p/w300_and_h450_bestv2/${i.poster_path}`,a.querySelector("img").alt=i.title,S.appendChild(a)}),c==null||c.appendChild(S)):c==null||c.appendChild(v())}catch(c){console.error("Error loading similar movies:",c)}}function ce(e){var t,r;try{if(!(e!=null&&e.length))return;const n=document.querySelectorAll(".movie");if(!(n!=null&&n.length))return;(r=(t=Array.from(n))==null?void 0:t.filter(o=>{const c=Number(o.id);return e.includes(c)}))==null||r.forEach(o=>{o.addEventListener("click",async function(c){c.stopPropagation();const s=o.id,l=[];document.querySelectorAll(".movie").forEach(u=>{const d=u.getBoundingClientRect();l.push({left:d.left,top:d.top,width:d.width,height:d.height})});const i=o.classList.contains("active");i||(re(s),oe(s),ne(s)),U(),document.querySelectorAll(".movie").forEach(u=>u.classList.remove("active")),i||o.classList.add("active");const a=[];document.querySelectorAll(".movie").forEach(u=>{const d=u.getBoundingClientRect();a.push({left:d.left,top:d.top,width:d.width,height:d.height})}),document.querySelectorAll(".movie").forEach((u,d)=>{const m=l[d],h=a[d],y=m.left-h.left,x=m.top-h.top,T=m.width/h.width,k=m.height/h.height;u.style.transform=`translate(${y}px, ${x}px) scale(${T}, ${k})`,u.style.transition="transform 0s"}),requestAnimationFrame(()=>{document.querySelectorAll(".movie").forEach(u=>{u.style.transform="",u.style.transition="transform 0.3s ease"})})})})}catch(n){console.error("Error registering movie click listeners:",n)}}async function q(e){try{if(!(e!=null&&e.length))return;let t=await ee();e.forEach(r=>{var o;const n=X.content.cloneNode(!0);n.querySelector(".movie").id=r.id,n.querySelector(".movie-title").textContent=r.title,n.querySelector(".movie-overview").textContent=r.overview,r!=null&&r.backdrop_path?n.querySelector(".movie-poster").src=`https://media.themoviedb.org/t/p/w300_and_h450_bestv2/${r.backdrop_path}`:n.querySelector(".movie-poster").remove(),r.vote_average?n.querySelector(".movie-rating-average").textContent=(Math.round(r.vote_average*10)/10).toFixed(1):n.querySelector(".movie-rating").remove(),n.querySelector(".movie-year").textContent=new Date(r.release_date).getFullYear(),t!=null&&t.length&&((o=r.genre_ids)!=null&&o.length)&&r.genre_ids.slice(0,3).forEach(c=>{var l;const s=W.content.cloneNode(!0);s.querySelector(".movie-genre").textContent=((l=t==null?void 0:t.find(i=>i.id==c))==null?void 0:l.name)||"",C.appendChild(s)}),n.querySelector(".movie-genres").appendChild(C),E.appendChild(n)}),V.appendChild(E),ce(e.map(r=>r.id))}catch(t){console.error("Error appending movies:",t)}}const se=document.getElementById("scroll-sentinel"),A=document.querySelector("#scroll-sentinel .spinner"),L=document.querySelector("#scroll-sentinel p");async function g(e){try{const t=await e(1);if(t!=null&&t.results)q(t.results);else return;let r=2,n=(t==null?void 0:t.total_pages)||1;async function o(){A.style.display="block";const l=await e(r),i=l==null?void 0:l.results;i!=null&&i.length&&(n=n||l.total_pages,q(i),r++,A.style.display="none")}const c=l=>{const[i]=l;i.isIntersecting&&r<=n?(L.computedStyleMap.display="hidden",o()):r>n&&(L.computedStyleMap.display="block")},s={root:null,rootMargin:"300px",threshold:0};window.scrollObserver=new IntersectionObserver(c,s),window.scrollObserver.observe(se)}catch(t){console.error("Error registering scroll observer: ",t)}}function le(e,t){let r;return function(...n){r||(r=setTimeout(()=>{e.apply(this,n),r=null},t))}}const f=document.querySelector("#movie-search input"),I=document.getElementById("list-title"),N=document.getElementById("movie-list"),B=document.querySelector(".erase-button"),M=document.querySelector(".search-button");function ie(){try{const e=le(async()=>{var r,n;if(!f.value){B.style.display="none",M.style.display="block",I.textContent="Now In Theaters",N.textContent="",(r=window.scrollObserver)==null||r.disconnect(),window.scrollObserver=null,g(_);return}if(B.style.display="block",M.style.display="none",f.value.length<3)return;I.textContent="Search Results",N.textContent="",(n=window.scrollObserver)==null||n.disconnect(),window.scrollObserver=null,g(o=>te(f.value,o))},300);f.addEventListener("input",e)}catch(e){console.error("Error registering search listener: ",e)}}window.eraseSearch=function(){f.value="";const e=new CustomEvent("input");f.dispatchEvent(e),scrollTo({top:0,behavior:"smooth"})};G({icons:{X:Y}});window.scrollObserver=null;ie();g(_);
